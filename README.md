# change-photo-info

사진의 촬영 시각과 GPS위치를 일괄 수정해줍니다.

제 개인적으로 쓰려고 만든 유틸이라 모든 상황에서 동작하지 않습니다

## 개발 동기

친구들끼리 사진을 메신저 등으로 공유하다보면 사진 내 시간 정보 (EXIF)와 공간 정보 (GPS)가 모두 날아가버리는 단점이 있습니다. 왜냐하면 메신저에서 사진을 한번 인코딩하기 때문입니다. 이렇게 받은 사진을 구글포토같은 사진관리 서비스에 업로드하면 공간 정보는 다 빠진 채로 실제 시간과 다르게 분류되는 문제점이 발생합니다.

이 프로그램은 잃어버린 시간 정보와 공간 정보를 일괄적으로 수정해주는 프로그램입니다.

## 지원 기능과 원리

- 시간 정보 (EXIF) 수정

    메타데이터가 삭제된 이미지에서 시간 정보를 수정하는 확실한 방법은 파일의 이름을 보는것입니다. 파일 이름은 보통 `20060102_150405.jpg` 처럼 시간 정보를 나타내는 문자열로 되어 있습니다. 이 프로그램은 이것을 자동으로 읽어서 메타데이터에 기록합니다.

- 공간 정보 (GPS) 수정

    안타깝게도 메타데이터가 삭제된 이미지에서, 공간 정보는 원래 정보가 어디에도 남아있지 않습니다. 따라서 이 프로그램에서는 사용자가 직접 위도와 경도를 입력해서 사진 내 메타데이터에 위치가 기록되도록 하는 기능을 제공하고 있습니다.

## 사용법

1. 파일 준비

    아래와 같이 문자열에 날짜와 초 단위 시각이 나와있어야 합니다. 파일의 포맷은 JPG와 PNG만 지원합니다.
    ```
    20230401_230506.jpg
    2023.04.01 23:05:06.jpg
    2023-04-01 23:05:06.jpg
    2023-04-01T23:05:06.jpg
    04/01/23 23:05:06.png
    IMG_20060102_150406.png
    ```
    복원을 원하는 이미지들을 선택해서 폴더 하나에 담아둡니다

2. 커맨드 실행

- 시간 정보만 수정하고 싶을 경우
    ```bash
    python main.py -i <폴더이름>
    ```

- 공간 정보만 수정하고 싶을 경우

    이 경우에는 파일 이름이 확장자를 제외하고는 아무렇게나 되어있어도 괜찮습니다

    (주의: 모든 파일의 GPS가 설정한 값으로 동일하게 지정됩니다)
    ```bash
    python main.py -i <폴더이름> --notime --gps "35.12, 125.12345"
    ```

- 시공간 정보를 모두 수정하고 싶을 경우

    (주의: 모든 파일의 GPS가 설정한 값으로 동일하게 지정됩니다)
    ```bash
    python main.py -i <폴더이름> --gps "35.12, 125.12345"
    ```

3. 결과 확인

    위 커맨드 중 하나를 실행하면 원본 파일이 모두 수정되어 있습니다. 그대로 드래그 해서 구글 포토 등에 넣으시면 됩니다.